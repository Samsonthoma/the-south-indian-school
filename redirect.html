<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Opening WhatsApp Channel...</title>
  <style>
    :root {
      --bg-color: #f5f7fa;
      --accent: #19b3a7;
      --card-bg: #ffffff;
      --text-color: #2c3e50;
      --shadow: rgba(0,0,0,0.1);
    }

    * {
      box-sizing: border-box;
    }

    body, html {
      margin: 0;
      padding: 0;
      font-family: 'Poppins', sans-serif;
      background-color: var(--bg-color);
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .card {
      background: var(--card-bg);
      padding: 2rem;
      border-radius: 12px;
      box-shadow: 0 6px 24px var(--shadow);
      text-align: center;
      max-width: 360px;
      position: relative;
      animation: fadeIn 1s ease forwards;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: scale(0.9); }
      to   { opacity: 1; transform: scale(1); }
    }

    .logo {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      margin-bottom: 1rem;
      box-shadow: 0 0 16px var(--shadow);
    }

    .notice-slide {
      position: absolute;
      background-color: var(--accent);
      color: #fff;
      padding: 0.75rem 1rem;
      border-radius: 8px;
      font-size: 0.85rem;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      animation: slideIn 3s ease-out forwards;
    }

    .notice-slide:nth-child(2) { left: -150px; top: 40px; animation-delay: 0.5s; }
    .notice-slide:nth-child(3) { left: -170px; top: 100px; animation-delay: 1s; }
    .notice-slide:nth-child(4) { left: -190px; top: 160px; animation-delay: 1.5s; }

    @keyframes slideIn {
      to {
        left: 50%;
        transform: translateX(-50%);
        opacity: 0;
      }
    }

    .whatsapp-circle {
      margin-top: 2rem;
      width: 72px;
      height: 72px;
      border-radius: 50%;
      background-color: var(--accent);
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 0 16px var(--accent);
      animation: glowPulse 2s infinite ease-in-out;
    }

    @keyframes glowPulse {
      0%,100% { box-shadow: 0 0 8px var(--accent); }
      50%     { box-shadow: 0 0 16px var(--accent); }
    }

    .whatsapp-circle img {
      width: 36px;
      height: 36px;
    }

    .fallback {
      margin-top: 1.5rem;
      background-color: var(--accent);
      color: #fff;
      padding: 0.7rem 1.4rem;
      border: none;
      border-radius: 6px;
      font-weight: 600;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    .fallback:hover {
      background-color: #149f97;
    }
  </style>
</head>
<body>
  <div class="card">
    <img
      src="https://samsonthoma.github.io/the-south-indian-school/logo.png"
      alt="School Logo"
      class="logo"
    />

    <!-- Sliding notices -->
    <div class="notice-slide">Notice: Exam on Monday</div>
    <div class="notice-slide">Exam: Ist Unit Test</div>
    <div class="notice-slide">Time Table Released</div>

    <div class="whatsapp-circle">
      <img
        src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg"
        alt="WhatsApp"
      />
    </div>

    <button class="fallback" onclick="retryRedirect()">Retry Opening WhatsApp</button>
  </div>

  <script>
    const redirectToChannel = () => {
      const ua = navigator.userAgent.toLowerCase();
      const isAndroid = ua.includes("android");
      const channelUrl = "https://whatsapp.com/channel/0029Va9Tne5KwqSMcl5ZnE2B/198";

      if (isAndroid) {
        window.location.href =
          "intent://" +
          channelUrl.replace(/^https?:\/\//, "") +
          "#Intent;scheme=https;package=com.whatsapp;action=android.intent.action.VIEW;end";
      } else {
        window.location.href = channelUrl;
      }
    };

    const retryRedirect = () => {
      redirectToChannel();
    };

    window.onload = () => setTimeout(redirectToChannel, 3000);
  </script>
</body>
</html>
